<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Add the PayPal SDK script -->
    <script src="https://www.paypal.com/sdk/js?client-id=ATVrgFCTvwpM3jguNL0x-NWPgmrZexmg4dr3Cup2f41eanMjuEQdvI6hfMu4sEMlTyE06Bnp76e-Chag"></script>

    <meta charset="UTF-8">
    <title>Checkout</title>
    <!-- Add any additional styles or scripts if needed -->
    <style>

        body {
            font-family: 'Times New Roman', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-size: 20px;
            position: relative;
            overflow-x: hidden; /* Hide horizontal scrollbar */
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #edf5f1;
            opacity: 0.2; /* Adjust the opacity as needed */
            z-index: -1; /* Send it to the back */
        }

        header {
            background-color: #2a362d;
            color: #edf5f1;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* Change flex direction to column */
            font-size: 1.2em;
            height: 50px;
        }

        h1 {
            /*font-size: 30px;*/
            font-size: 2em;
            font-family: 'Times New Roman', sans-serif;
            font-weight: bold;
            /*margin-bottom: auto; !* Push it to the top *!*/
            margin-top: 20px;
            margin-right: 350px;
        }

        h2 {
            margin-left: 20px;
        }

        /*.container {*/
        /*    display: flex;*/
        /*    justify-content: space-between;*/
        /*    !*align-items: flex-start;*!*/
        /*    width: 100%; !* Set container to full width *!*/
        /*    margin: 20px auto;*/
        /*    flex-direction: column;*/
        /*    align-items: flex-start;*/
        /*}*/

        .container {
            display: flex;
            flex-direction: column;
            align-items: center; /* Center everything horizontally */
            text-align: center; /* Center text content */
            margin: 20px auto;
        }

        nav {
            margin-top: 0;
            display: flex;
            justify-content: space-evenly; /* Center items along the main axis (horizontally) */
            align-items: center;
            flex-grow: 1; /* Allow the nav to grow and take available space */
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: space-between; /* Distribute items along the main axis */
            align-items: center;
            width: 100%; /* Occupy the full width */
        }

        nav ul li {
            margin-inline: 100px; /* Adjust the spacing between the navigation links */
        }

        .logo-link {
            color: inherit; /* Use the default link color */
            text-decoration: inherit; /* Use the default underline style */
            cursor: pointer; /* Show pointer cursor on hover */
            transition: color 0.3s ease-in-out; /* Smooth transition for color change */
        }

        .logo-link:hover {
            color: #ff9900; /* Change this to the desired color on hover */
        }

        nav ul li a {
            color: #e7dee4; /* Default link color */
            text-decoration: none;
            transition: color 0.3s ease-in-out; /* Smooth transition for color change */
            font-size: 1em;
        }

        nav ul li a:hover {
            color: #ff9900; /* Change this to the desired color on hover */
        }


        .login-signin {
            display: flex;
            align-items: center;
        }

        /*TODO: research how to implement search*/
        .search-bar {
            display: flex;
            align-items: center;
            margin-right: 10px;
            /*margin-left: 20px;*/
            margin-left: 350px;
        }

        .search-bar input {
            padding: 8px;
            margin-right: 5px; /* Adjust the spacing between input and icon */
            font-size: 1em;
        }

        .search-icon {
            /*font-size: 18px;*/
            font-size: 1em;
            font-family: 'Times New Roman', sans-serif;
            cursor: pointer;
            color: #f2faf4; /* Adjust the color as needed */
        }

        .search-icon:hover {
            color: rgb(210, 153, 8); /* Adjust the color for the dimming effect */
        }

        #cartSection {
            text-align: center; /* Center the content within the section */
            margin-top: 20px; /* Adjust the top margin as needed */
        }

        /* Style for the right column */
        #right-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%; /* Adjust the width as needed */
        }

        /*TODO: see if we can have this float on the side and travel as users scroll */
        #paypal-button-container {
            margin-top: 20px; /* Adjust the top margin as needed */
            /*margin-right: 20px;*/
        }

        /*#checkoutButtons {*/
        /*    display: flex;*/
        /*    flex-direction: column;*/
        /*    margin-right: 6%;*/
        /*}*/

        #checkoutButtons {
            display: flex;
            flex-direction: column;
            margin-top: 20px; /* Adjust the top margin as needed */
        }

        button {
            background-color: rgba(8, 51, 20, 0.65);
            color: rgb(237, 248, 240);
            padding: 8px 8px;
            border: none;
            cursor: pointer;
            font-size: 15px;
            transition: background-color 0.3s ease-in-out;
            margin-bottom: 15px;
            width: 200px;
        }

        button:hover {
            background-color: rgba(14, 75, 31, 0.35);
            color: rgba(14, 75, 31, 0.65);
        }


        .login-signin a {
            color: #6f8f7e;
            text-decoration: none;
            text-align: left;
            margin-top: auto; /* Push the nav to the bottom */
            font-size: 1em;

        }

        .item-preview {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 20px;
        }

        .item-preview img {
            max-width: 100px;
            max-height: 100px;
            margin-right: 10px;
        }

        /* Add this to your existing styles */
        #cartLink {
            color: #e7dee4; /* Adjust the color to match your design */
            text-decoration: none;
            transition: color 0.3s ease-in-out; /* Smooth transition for color change */
        }

        #cartLink:hover {
            color: #ff9900; /* Change this to the desired color on hover */
        }

        #cartInfo {
            font-size: 1.5em; /* Adjust the font size for the icon */
            margin-left: 5px; /* Adjust the spacing between icon and text */
        }

        /* Add this to your existing styles */
        #cartItemsList {
            list-style-type: none; /* Remove the bullet points */
            padding: 0; /* Remove default padding */
        }

        #cartItemsList li {
            margin-bottom: 10px; /* Adjust spacing between cart items */
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 10px;
            width: 100%;
            margin-top: 100vh;
        }

        /* Media Query for Larger Screens */
        @media screen and (min-width: 1600px) {
            header {
                font-size: 0.75em; /* Adjust the base font size for larger screens */
            }

            h1 {
                font-size: 1.2em; /* Adjust the font size for larger screens */
            }

            nav ul li a {
                font-size: 1em; /* Adjust the font size for larger screens */
            }

            nav {
                font-size: 1.15em;
            }

            nav ul {
                margin: 0;
                padding: 0;
                align-items: center;
                width: 100%;
            }

            .search-icon {
                font-size: 1em; /* Adjust the font size for larger screens */
            }

            .search-bar {
                font-size: 0.75em;
            }

            .search-bar input{
                font-size: 1em;
            }
        }

    </style>
</head>
<body>

<header>

    <!-- Your header content -->
    <div class="background"></div>

    <!--    <h1>Artwork Details</h1>-->
    <div class="container">
        <nav>
            <ul>
                <h1><a href="../../index.html" class="logo-link">Caiti Minahan Studio</a></h1>
                <div class="login-signin">
                    <li><a href="../main%20pages/shop.html" class="section-link">Home</a></li>
                    <li><a href="../header%20nav%20links/gallery.html" class="section-link">Gallery</a></li>
                    <li><a href="../header%20nav%20links/about_us.html" class="section-link">About Me</a></li>
<!--                    &lt;!&ndash;                    TODO: research how to implement login functionality for static sites&ndash;&gt;-->
<!--                    <li><a href="../header%20nav%20links/login_page.html" class="section-link">Login</a></li>-->
<!--                    &lt;!&ndash;                    TODO: research how to implement sign up functionality for static sites&ndash;&gt;-->
<!--                    <li><a href="../header%20nav%20links/signup.html" class="section-link">Sign Up</a></li>-->
                </div>

                <a href="checkout.html" id="cartLink">
                    <span id="cartInfo"><i class="fas fa-shopping-cart"></i></span>
                </a>

                <div class="search-bar">
                    <!-- Search bar HTML -->
                    <input type="text" placeholder="Search Studio . . .">
                    <!-- Magnifying glass icon from Font Awesome -->
                    <span class="search-icon"><i class="fas fa-search"></i></span>
                </div>

            </ul>
        </nav>

    </div>

</header>


<div class="container">
    <section>

        <section id="cartSection">

        <h2>Shopping Cart</h2>

            <ul id="cartItemsList">

            <!--TODO: Cart items will be dynamically added here -->
            </ul>
        </section>
    </section>
    <!-- Add other sections or content as needed -->

    <!-- Right column for PayPal buttons -->
    <div id="right-column">
        <section id="checkoutButtons">
            <!-- Add a button to clear the cart -->
            <button onclick="clearCart()">Clear Cart</button>
            <button onclick="continueShopping()">Continue Shopping</button>
            <!--            <button onclick="proceedToCheckout()">Proceed to Checkout</button>-->
        </section>

        <!-- Container for the PayPal button -->
        <div id="paypal-button-container"></div>
    </div>

    <!-- Check if the cart is not empty before displaying item preview and title -->
    <div class="container" id="artworkContainer">
        <div class="item-preview" id="artworkPreview">
            <!-- Artwork preview will be dynamically added here -->
        </div>
        <span class="artwork-title" id="artworkTitle"></span>
    </div>

</div>


<!-- Include your other scripts -->
<!--<script src="../../app.js"></script>-->

<footer>
    &copy; 2023 Your Studio. All rights reserved.
</footer>

<script>

    const searchInput = document.querySelector('.search-bar input');
    const searchIcon = document.querySelector('.search-icon');

    // Function to continue shopping and navigate to the home page
    function continueShopping() {
        // Set the URL of the home page
        // var homePageURL = "../shop.html";

        // Navigate to the home page
        window.location.href = "../main pages/shop.html";
    }

    // Load cart data from local storage
    var cart = JSON.parse(localStorage.getItem('cart'));

    // Check if cart is null or undefined, and initialize it as an empty array
    cart = cart || [];

    // Function to display items in the cart
    function displayCartItems() {
        var cartItemsList = document.getElementById('cartItemsList');
        cartItemsList.innerHTML = ''; // Clear existing content

        // Check if the cart is empty
        if (!cart || cart.length === 0) {
            // If the cart is empty or not initialized, display a message
            var emptyCartMessage = document.createElement('p');
            emptyCartMessage.textContent = 'Your cart is empty . . . get to shopping!';
            cartItemsList.appendChild(emptyCartMessage);
        } else {
            // If the cart is not empty, generate and display item previews
            for (var i = 0; i < cart.length; i++) {
                var item = cart[i];
                var listItem = document.createElement('li');
                var itemDiv = document.createElement('div');
                var imgDiv = document.createElement('div'); // Wrapper for the image
                var img = document.createElement('img');
                var detailsDiv = document.createElement('div'); // Wrapper for title and price
                var title = document.createElement('span');
                var price = document.createElement('span');

                img.src = item.previewImage;
                img.alt = item.title;
                img.className = 'cart-item-image';

                title.textContent = item.title;
                price.textContent = ` - $${item.price.toFixed(0)}`;

                // Add styles to the image wrapper and details wrapper
                imgDiv.style.display = 'inline-block'; // Display image and details in the same line
                detailsDiv.style.textAlign = 'center'; // Align text to the left

                imgDiv.appendChild(img);
                detailsDiv.appendChild(title);
                detailsDiv.appendChild(price);
                itemDiv.appendChild(imgDiv);
                itemDiv.appendChild(detailsDiv);
                listItem.appendChild(itemDiv);

                cartItemsList.appendChild(listItem);
            }
        }
    }

    // Function to proceed to checkout (you can modify this function as needed)
    function proceedToCheckout() {
        // Implement the logic to navigate to the checkout page or perform other actions
        // For example, you can use window.location.href = 'checkout.html';
        alert('Proceeding to checkout');
    }

    // Function to clear the cart
    function clearCart() {
        // Clear the cart in local storage and in memory
        localStorage.removeItem('cart');
        cart = [];

        // Update the displayed cart items
        displayCartItems();

        // You can also display a confirmation message or perform other actions
        alert('Cart cleared');
    }


    // Call the displayCartItems function when the page loads
    window.onload = function () {
        console.log('Page loaded. Cart:', cart); // Add this line for debugging
        displayCartItems();
    };

    // search bar functionality
    // TODO: these products are hard-coded, but if there were a back-end server, the product inventory would be
    // located in a database
    const products = [
        { id: 1, name: 'Sunflower Painting', category: 'Artwork', description: 'Beautiful sunflower painting.' },
        { id: 2, name: 'Face Jeans', category: 'Artwork', description: 'Artistic depiction of a face on jeans.' },
        // Add more product data as needed
    ];

    function handleSearch() {
        // TODO: removed case sensitivity; add back in later if needed
        const searchTerm = searchInput.value.trim();
        // const searchTerm = searchInput.value.trim().toLowerCase();

        // Example: Check for different search terms and redirect accordingly
        if (searchTerm === 'gallery' || searchTerm === 'gall' || searchTerm === 'gal' || searchTerm === 'ga' || searchTerm === 'ery') {
            window.location.href = '../header%20nav%20links/gallery.html';
        } else if (searchTerm === 'about' || searchTerm === 'me' || searchTerm === 'artist' || searchTerm === 'caiti') {
            window.location.href = '../header%20nav%20links/about_us.html';
        } else if (searchTerm === 'login' || searchTerm === 'log in' || searchTerm === 'log' || searchTerm === 'gin' || searchTerm === 'in') {
            window.location.href = '../header%20nav%20links/login_page.html';
        } else if (searchTerm === 'shop' || searchTerm === 'browse' || searchTerm === 'products' || searchTerm === 'art') {
            window.location.href = '../main%20pages/shop.html';
        } else if (searchTerm === 'signup' || searchTerm === 'sign' || searchTerm === 'up' || searchTerm === 'ignup' || searchTerm === 'sign up') {
            window.location.href = '../header%20nav%20links/signup.html';
        } else if (searchTerm === 'checkout' || searchTerm === 'cart' || searchTerm === 'check out' || searchTerm === 'check' || searchTerm === 'pay') {
            window.location.href = 'checkout.html';
        } else if (searchTerm === 'studio' || searchTerm === 'home' || searchTerm === 'jump' || searchTerm === 'display' || searchTerm === 'welcome') {
            window.location.href = '../../index.html';

            // now add conditions for redirecting to the correct product pages depending on the input
        } else if (searchTerm === 'jeans' || searchTerm === 'painted jeans' || searchTerm === 'hand painted jeans' || searchTerm === 'custom jeans' || searchTerm === 'denim' || searchTerm === 'fabric') {
            window.location.href = '../search result pages/jeans_search_results.html';
        } else if (searchTerm === 'painting' || searchTerm === 'canvas' || searchTerm === 'wall' || searchTerm === 'acrylic') {
            window.location.href = '../search result pages/painting_search_results.html';

            // individual product search filters
        } else if (searchTerm === 'faces jeans' || searchTerm === 'faces') {
            window.location.href = '../product details pages/artwork2.html';
        } else if ( searchTerm === 'daisy jeans' || searchTerm === 'daisy') {
            window.location.href = '../product details pages/artwork5.html';
        } else if (searchTerm === 'butterfly jeans' || searchTerm === 'butterfly') {
            window.location.href = '../product details pages/artwork8.html';
        } else if ( searchTerm === 'mushroom jeans'  || searchTerm === 'mushroom'){
            window.location.href = '../product details pages/artwork7.html';

        } else if (searchTerm === 'sunflower painting' || searchTerm === 'sunflower' || searchTerm === 'sunflower canvas') {
            window.location.href = '../product details pages/artwork1.html';
        } else if ( searchTerm === 'sunset painting' || searchTerm === 'sunset' || searchTerm === 'sunset canvas') {
            window.location.href = '../product details pages/artwork3.html';
        } else if (searchTerm === 'pumpkin painting' || searchTerm === 'pumpkin' || searchTerm === 'pumpkin canvas') {
            window.location.href = '../product details pages/artwork4.html';
        } else if ( searchTerm === 'moon painting'  || searchTerm === 'moon' || searchTerm === 'moon canvas'){
            window.location.href = '../product details pages/artwork6.html';

            // section for directing to the 1895 project 3 report
        } else if ( searchTerm === 'report'  || searchTerm === '1895' || searchTerm === 'junior design'){
            window.location.href = 'src/search result pages/1895_final_report.html';

        } else {
            // Handle the case where no matching term is found (e.g., display a message)
            console.log('No matching term found.');
            // TODO: redirect to a "No Results" page or display a message on the current page.
        }
    }

    searchIcon.addEventListener('click', handleSearch);
    searchInput.addEventListener('keyup', function(event) {
        if (event.key === 'Enter') {
            handleSearch();
        }
    });

</script>

<script>
    paypal.Buttons({
        createOrder: function(data, actions) {
            // Set up the transaction details
            return actions.order.create({
                purchase_units: [{
                    amount: {
                        value: '10.00' // Set the payment amount
                    }
                }]
            });
        },
        onApprove: function(data, actions) {
            // Capture the funds when the user approves the payment
            return actions.order.capture().then(function(details) {
                // Call your server to save the transaction
                alert('Transaction completed by ' + details.payer.name.given_name);
            });
        }
    }).render('#paypal-button-container'); // Specify the container where the button will be rendered
</script>


</body>
</html>
